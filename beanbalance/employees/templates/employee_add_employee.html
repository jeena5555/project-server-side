{% extends 'layout.html'%}
{%block content%} 
{% load static %}
<script src="{% static '../static/edit.js' %}"></script>
<div class="container mx-auto w-full flex">
  <div class="w-2/3 text-white px-6 sticky top-0 h-screen overflow-y-scroll" style="background-color: #292C2D;">
    <div class="sticky top-0 bg-[#292C2D] z-10">
      <!-- Search Bar -->
      <div class="mt-6 mb-6">
        <input type="text" id="search" placeholder="Search" class="w-full bg-[#404040] text-white px-4 py-2 rounded-full">
    </div>
      
      <!-- Add Position & Filters -->
      <div class="flex flex-wrap gap-3 mb-3">
        <a href="#" class="px-4 py-2 rounded-full flex items-center text-black" style="background-color:#ffffff;">
          Add Position <span class="ml-2 text-2xl">+</span>
        </a>
        <div class="flex space-x-2">
          <button class="px-4 py-2 rounded-full text-white" style="background-color: #797B7E">ALL</button>
          <button class="px-4 py-2 border-2 border-white text-white rounded-full bg-transparent hover:bg-white hover:text-black">
            Manager
          </button>
          <button class="px-4 py-2 border-2 border-white text-white rounded-full bg-transparent hover:bg-white hover:text-black">
            Cashier
          </button>
        </div>
      </div>

      <!-- Manager Section -->
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-2xl font-semibold text-white">Manager</h2>
        <a href="{% url 'add-employee'%}" class="px-4 py-2 rounded-full flex items-center text-black" style="background-color:#ffffff;">
          Add Employee <span class="ml-2 text-2xl">+</span>
        </a>
      </div>
     
      <!-- Employee Cards -->
      <div class="grid grid-cols-2 gap-4">
        {% for employee in employees %}
        <!-- Employee Card -->
        <div class="p-4 rounded-lg flex items-center justify-between" 
        style="background-color:#404040;"
        data-id="{{ employee.id }}"
        data-first-name="{{ employee.first_name }}"
        data-last-name="{{ employee.last_name }}"
        data-gender="{{ employee.gender }}"
        data-birth-date="{{ employee.birth_date }}"
        data-position="{{ employee.position.name }}">
        <div class="flex items-center space-x-4">
            <div class="w-10 h-10 bg-gray-400 rounded-full flex items-center justify-center">
              P
            </div>
              <div>
                <h3 class="font-semibold text-white">{{ employee.first_name }}</h3>
                <p class="text-gray-400 text-sm">{{ employee.position.name }}</p>
              </div>
          </div>
          <button onclick="rendereditpage('{{ employee.id }}')">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12.1465 0.146447C12.3417 -0.0488155 12.6583 -0.0488155 12.8536 0.146447L15.8536 3.14645C16.0488 3.34171 16.0488 3.65829 15.8536 3.85355L5.85357 13.8536C5.80569 13.9014 5.74858 13.9391 5.68571 13.9642L0.68571 15.9642C0.500001 16.0385 0.287892 15.995 0.146461 15.8536C0.00502989 15.7121 -0.0385071 15.5 0.0357762 15.3143L2.03578 10.3143C2.06092 10.2514 2.09858 10.1943 2.14646 10.1464L12.1465 0.146447ZM11.2071 2.5L13.5 4.79289L14.7929 3.5L12.5 1.20711L11.2071 2.5ZM12.7929 5.5L10.5 3.20711L4.00001 9.70711V10H4.50001C4.77616 10 5.00001 10.2239 5.00001 10.5V11H5.50001C5.77616 11 6.00001 11.2239 6.00001 11.5V12H6.29291L12.7929 5.5ZM3.03167 10.6755L2.92614 10.781L1.39754 14.6025L5.21903 13.0739L5.32456 12.9683C5.13496 12.8973 5.00001 12.7144 5.00001 12.5V12H4.50001C4.22387 12 4.00001 11.7761 4.00001 11.5V11H3.50001C3.28561 11 3.10272 10.865 3.03167 10.6755Z" fill="white"/>
            </svg>                           
          </button>
        </div>
        {% endfor %}
      </div>
    </div>
  </div>


    <div class="emp-form-box w-1/3 bg-gray-200 p-6 sticky top-0 h-screen overflow-y-scroll">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-3xl font-bold">Add Employee</h2>
      </div>
        
      <!-- Form Section -->
        <form method="post">
          {% csrf_token %}
          
          <!-- Render Form Fields Manually -->
          <div class="my-4">
            <label for="id_first_name" class="w-full p-2 mb-4 border rounded">First Name:</label>
            {{ form.first_name }}
          </div>
          
          <div class="mb-4">
            <label for="id_last_name" class="block text-sm font-semibold mb-2">Last Name:</label>
            {{ form.last_name }}
          </div>
          
          <div class="mb-4">
            <label for="id_gender" class="block text-sm font-semibold mb-2">Gender:</label>
            {{ form.gender }}
          </div>
          
          <div class="mb-4">
            <label for="id_birth_date" class="block text-sm font-semibold mb-2">Birth Date:</label>
            {{ form.birth_date }}
          </div>
          
          <div class="mb-4">
            <label for="id_hire_date" class="block text-sm font-semibold mb-2">Hire Date:</label>
            {{ form.hire_date }}
          </div>
          
          <div class="mb-4">
            <label for="id_contact_number" class="block text-sm font-semibold mb-2">Contact Number:</label>
            {{ form.contact_number }}
          </div>
          
          <div class="mb-4">
            <label for="id_salary" class="block text-sm font-semibold mb-2">Salary:</label>
            {{ form.salary }}
            {% if form.salary.help_text %}
            <p class="text-gray-500 text-xs mt-1">{{ form.salary.help_text }}</p>
            {% endif %}
          </div>
          
          <div class="mb-4">
            <label for="id_account" class="block text-sm font-semibold mb-2">Position:</label>
            {{ form.account }}
          </div>
          
          <div class="border-t pt-4 mt-4">
            <button type="submit" class="w-full bg-black text-white py-3 rounded-full hover:bg-gray-800">Save</button>
          </div>
        </form>
    </div>
    
    
  </div>
</div>

{% endblock %}